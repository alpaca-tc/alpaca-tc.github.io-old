<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="https://www.w3.org/2005/Atom">

  <title><![CDATA[Category: web-service | RailsとRubyとVimのブログ]]></title>
  <link href="http://alpaca.tc/blog/web-service/atom.xml" rel="self"/>
  <link href="http://alpaca.tc/"/>
  <updated>2017-07-03T01:53:43+09:00</updated>
  <id>http://alpaca.tc/</id>
  <author>
    <name><![CDATA[alpaca-tc]]></name>
    
  </author>
  <generator uri="https://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[APIのMockサーバーを構築する「Apiary」を使ってみる]]></title>
    <link href="http://alpaca.tc/blog/web-service/apiary.html"/>
    <updated>2014-04-10T21:36:00+09:00</updated>
    <id>http://alpaca.tc/blog/web-service/apiary</id>
    <content type="html"><![CDATA[<p><img class="image_on_frame center" src="/images/blog/apiary/apiary_top.png" title="apiary Build beautiful APIs" ></p>

<p><a href="https://apiary.io/">Apiary</a>は、美しいAPIのドキュメント(Mockサーバー)が作成できるWebサービスです.</p>

<!-- more -->


<h2>Apiaryの使いどころ</h2>

<p>仕事を進める上で、APIの仕様が先に作られることは多々あります.</p>

<p>今関わっている案件でも、APIの仕様表だけ先に届いたので、Mockサーバーを立てて開発を進めることにしました.</p>

<h2>ドキュメント(Mockサーバー)を作ってみる</h2>

<p>Githubの連携でアカウントを作り、すぐにドキュメントの作成に取りかかれます.
markdown(の拡張)でAPIの仕様を書けば、すぐにドキュメントが生成されます.</p>

<p><img class="image_on_frame center" src="/images/blog/apiary/apiary_document.png" title="Apiary Document" ></p>

<p><strong>う、美しい&hellip;</strong></p>

<p>その上、Apiaryではドキュメントと同時に、そのドキュメントからMockサーバーを立ててくれます.</p>

<p>今回は、デモとして簡単なアルパカAPIを実装しました.</p>

<ul>
<li><a href="https://docs.alpaca.apiary.io/">生成されたドキュメント</a></li>
</ul>


<p>10分ぐらいで作成完了.すばらしい！</p>

<h2>レスポンスを見てみる</h2>

<p>作成されたAPIのMockサーバーは、<code>API名.apiary-mock.com</code>で見ることができます.</p>

<p>さっそく<code>curl</code>でレスポンスを見てみよう</p>

<p><code>$ curl https://alpaca.apiary-mock.com/hello</code></p>

<p>ヽ(・∀・ )ﾉす&hellip;すげぇ便利！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[カヤックのお年玉企画「お好き玉」の解説]]></title>
    <link href="http://alpaca.tc/blog/web-service/kayac-2014-otoshidama-2.html"/>
    <updated>2014-01-07T00:07:00+09:00</updated>
    <id>http://alpaca.tc/blog/web-service/kayac-2014-otoshidama-2</id>
    <content type="html"><![CDATA[<p><a href="/blog/web-service/kayac-2014-otoshidama.html">先日紹介した「お好き玉」</a>ですが、アクセス数が多いはずなのにまだ2014に達していません！</p>

<p>アクセスが足りないのか、みんな諦めるのか分かりませんが<strong>2014を超したほうが楽しい</strong>ので、少しだけヒント載せておきます！</p>

<p>素人でも、これをきっかけに少しだけWebエンジニアっぽいことに挑戦できたら楽しいよね:)</p>

<!-- more -->


<h2>逃げる「イイネ!!」が押せない仕組み</h2>

<p>このFBイイネが押せない理由は2つあります。</p>

<ol>
<li>イイネボタンの上にCSSでマスクがかかっている</li>
<li>カーソルに合わせてボタンが動く</li>
</ol>


<p>この両方を解除しないとボタンは押せません。</p>

<p><a href="https://www.google.com/intl/en/chrome/browser/">Google Chrome</a>の<a href="https://www.buildinsider.net/web/chromedevtools/01">Developer Tool</a>は必須ですヨ:)</p>

<h3>1.イイネボタンの上にCSSでマスクがかかっている</h3>

<p>z-indexの仕業かと思ったら、こんな方法もあるんですねぇ。感心。</p>

<p>```css
// <a href="https://iine2014.fnobi.com/css/iine2014.css:84">https://iine2014.fnobi.com/css/iine2014.css:84</a></p>

<h1>iine:after {</h1>

<p>  content: &lsquo;&rsquo;;
  display: block;
  width: 120px;
  height: 22px;
  position: absolute;
  top: 0px;
  left: 0px;
}
```</p>

<p>Facebookのイイネボタンのidが<code>#iine</code>で、その直後に疑似要素<code>:after</code>が同じサイズでかぶさっています。なので、どんなに頑張ってもボタンは押せません。</p>

<p>この疑似要素を消すか、widthを0にしてしまえばボタンは押せますね。Developer Toolの出番やで！</p>

<h2>2. カーソルに合わせてボタンが動く</h2>

<p>JavaScriptを見てみると、<code>mouseover</code>と<code>touchstart</code>のタイミングで位置を移動させているのが分かります。</p>

<p>```javascript
// <a href="https://iine2014.fnobi.com/js/iine2014.js:9130">https://iine2014.fnobi.com/js/iine2014.js:9130</a>
(function (win) {</p>

<pre><code>$(function () {
    var $window = $(window);
    var $iine = $('#iine');

    // 略

    $iine.on('mouseover touchstart', function () {
      // 略
    });
</code></pre>

<p>```</p>

<p>なので、このeventを解除してやれば動かなくなります(・∀・) <code>on</code>の逆をすればいいのです</p>

<h2>まとめ</h2>

<p>解説しましたが、つまるところ<code>#iine</code>にまつわるものを解除してやればいいので、Developer Toolを開いて、ちょめっとすれば一瞬ですネヾ(*´∀｀*)ﾉ</p>

<p>さぁ<a href="https://iine2014.fnobi.com/">「お好き玉」</a>へ挑戦してみようー！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[カヤックのお年玉企画がすげぇ！]]></title>
    <link href="http://alpaca.tc/blog/web-service/kayac-2014-otoshidama.html"/>
    <updated>2014-01-01T18:24:00+09:00</updated>
    <id>http://alpaca.tc/blog/web-service/kayac-2014-otoshidama</id>
    <content type="html"><![CDATA[<h1>2014人まで、「イイネ！」でお金がもらえるよ！</h1>

<p>面白法人カヤックの新年企画だそうです^^</p>

<p>FBの「イイネ！」を押して2014円ゲットしましょう！</p>

<p><a href="https://iine2014.fnobi.com/">お好き玉</a></p>

<p>ちなみに現在519人ぐらいです</p>

<h2>おまけ</h2>

<p>逆就活でカヤックさんからメール来ていました。そういえば、カヤックのVimmerのせいで、僕はVim狂になったんですよね！:p</p>

<p>なんだか面白そうなので社長面談に行ってみたいな！</p>
]]></content>
  </entry>
  
</feed>



